{"version":3,"file":"static/chunks/2070-698f0e8dafdc2795.js","mappings":"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","sources":["webpack://_N_E/./components/chat/ChatUserMessage/messageFmt.ts","webpack://_N_E/./components/chat/ChatUserBadge/ChatUserBadge.tsx","webpack://_N_E/./components/chat/ChatUserBadge/AuthedUserBadge.tsx","webpack://_N_E/./components/chat/ChatUserBadge/ModerationBadge.tsx","webpack://_N_E/./components/chat/ChatUserMessage/ChatUserMessage.tsx","webpack://_N_E/./components/chat/ChatTextField/ChatTextField.tsx","webpack://_N_E/./assets/images/moderator.svg","webpack://_N_E/./components/chat/ChatModeratorNotification/ChatModeratorNotification.tsx","webpack://_N_E/./components/chat/ChatSystemMessage/ChatSystemMessage.tsx","webpack://_N_E/./components/chat/ChatJoinMessage/ChatJoinMessage.tsx","webpack://_N_E/./components/chat/ChatContainer/ScrollToBotBtn.tsx","webpack://_N_E/./components/chat/ChatActionMessage/ChatActionMessage.tsx","webpack://_N_E/./components/chat/ChatContainer/ChatContainer.tsx","webpack://_N_E/./components/chat/ChatActionMessage/ChatActionMessage.module.scss","webpack://_N_E/./components/chat/ChatContainer/ChatContainer.module.scss","webpack://_N_E/./components/chat/ChatJoinMessage/ChatJoinMessage.module.scss","webpack://_N_E/./components/chat/ChatModeratorNotification/ChatModeratorNotification.module.scss","webpack://_N_E/./components/chat/ChatSystemMessage/ChatSystemMessage.module.scss","webpack://_N_E/./components/chat/ChatTextField/ChatTextField.module.scss","webpack://_N_E/./components/chat/ChatUserBadge/ChatUserBadge.module.scss","webpack://_N_E/./components/chat/ChatUserMessage/ChatUserMessage.module.scss","webpack://_N_E/<anon>"],"sourcesContent":["import { convertToText } from '../chat';\nimport { getDiffInDaysFromNow } from '../../../utils/helpers';\n\nconst stripTags = (str: string) => str && str.replace(/<\\/?[^>]+(>|$)/g, '');\nconst convertToMarkup = (str = '') => convertToText(str).replace(/\\n/g, '<p></p>');\n\nfunction getInstagramEmbedFromURL(url: string) {\n  const urlObject = new URL(url.replace(/\\/$/, ''));\n  urlObject.pathname += '/embed';\n  return `<iframe class=\"chat-embed instagram-embed\" src=\"${urlObject.href}\" frameborder=\"0\" allowfullscreen></iframe>`;\n}\n\nfunction isMessageJustAnchor(embedText: string, message: string, anchors: HTMLAnchorElement[]) {\n  if (embedText !== '' && anchors.length === 1) return false;\n  return stripTags(message) === stripTags(anchors[0]?.innerHTML);\n}\n\nfunction getMessageWithEmbeds(message: string) {\n  let embedText = '';\n  // Make a temporary element so we can actually parse the html and pull anchor tags from it.\n  // This is a better approach than regex.\n  const container = document.createElement('p');\n  container.innerHTML = message;\n\n  const anchors = Array.from(container.querySelectorAll('a'));\n  anchors.forEach(({ href }) => {\n    if (href.includes('instagram.com/p/')) embedText += getInstagramEmbedFromURL(href);\n  });\n\n  // If this message only consists of a single embeddable link\n  // then only return the embed and strip the link url from the text.\n  if (isMessageJustAnchor(embedText, message, anchors)) return embedText;\n  return message + embedText;\n}\n\nexport function formatTimestamp(sentAt: Date) {\n  const now = new Date(sentAt);\n  if (Number.isNaN(now)) return '';\n\n  const diffInDays = getDiffInDaysFromNow(sentAt);\n\n  if (diffInDays >= 1) {\n    const localeDate = now.toLocaleDateString('en-US', {\n      dateStyle: 'medium',\n    });\n    return `${localeDate} at ${now.toLocaleTimeString()}`;\n  }\n\n  return `${now.toLocaleTimeString()}`;\n}\n\n/*\n  You would call this when receiving a plain text\n  value back from an API, and before inserting the\n  text into the `contenteditable` area on a page.\n*/\n\nexport function formatMessageText(message: string) {\n  let formattedText = getMessageWithEmbeds(message);\n  formattedText = convertToMarkup(formattedText);\n  return formattedText;\n  // return await highlightUsername(formattedText, username);\n}\n","import React, { FC } from 'react';\nimport styles from './ChatUserBadge.module.scss';\n\nexport type ChatUserBadgeProps = {\n  badge: React.ReactNode;\n  userColor: number;\n  title: string;\n};\n\nexport const ChatUserBadge: FC<ChatUserBadgeProps> = ({ badge, userColor, title }) => {\n  const color = `var(--theme-color-users-${userColor})`;\n  const style = { color };\n\n  return (\n    <span style={style} className={styles.badge} title={title}>\n      {badge}\n    </span>\n  );\n};\n","import dynamic from 'next/dynamic';\nimport React, { FC } from 'react';\nimport { ChatUserBadge } from './ChatUserBadge';\n\n// Lazy loaded components\n\nconst SafetyCertificateFilled = dynamic(() => import('@ant-design/icons/SafetyCertificateFilled'), {\n  ssr: false,\n});\n\nexport type AuthedUserBadgeProps = {\n  userColor: number;\n};\n\nexport const AuthedUserBadge: FC<AuthedUserBadgeProps> = ({ userColor }) => (\n  <ChatUserBadge badge={<SafetyCertificateFilled />} userColor={userColor} title=\"Moderator\" />\n);\n","import dynamic from 'next/dynamic';\nimport React, { FC } from 'react';\nimport { ChatUserBadge } from './ChatUserBadge';\n\n// Lazy loaded components\n\nconst StarFilled = dynamic(() => import('@ant-design/icons/StarFilled'), {\n  ssr: false,\n});\n\nexport type ModerationBadgeProps = {\n  userColor: number;\n};\n\nexport const ModerationBadge: FC<ModerationBadgeProps> = ({ userColor }) => (\n  <ChatUserBadge badge={<StarFilled />} userColor={userColor} title=\"Moderator\" />\n);\n","/* eslint-disable react/no-danger */\nimport { FC, ReactNode, useEffect, useState } from 'react';\nimport cn from 'classnames';\nimport { Tooltip } from 'antd';\nimport { useRecoilValue } from 'recoil';\nimport dynamic from 'next/dynamic';\nimport { decodeHTML } from 'entities';\nimport linkifyHtml from 'linkify-html';\nimport styles from './ChatUserMessage.module.scss';\nimport { formatTimestamp } from './messageFmt';\nimport { ChatMessage } from '../../../interfaces/chat-message.model';\nimport { accessTokenAtom } from '../../stores/ClientConfigStore';\nimport { User } from '../../../interfaces/user.model';\nimport { AuthedUserBadge } from '../ChatUserBadge/AuthedUserBadge';\nimport { ModerationBadge } from '../ChatUserBadge/ModerationBadge';\n\n// Lazy loaded components\n\nconst ChatModerationActionMenu = dynamic(\n  () =>\n    import('../ChatModerationActionMenu/ChatModerationActionMenu').then(\n      mod => mod.ChatModerationActionMenu,\n    ),\n  {\n    ssr: false,\n  },\n);\n\nconst Highlight = dynamic(() => import('react-highlighter-ts').then(mod => mod.Highlight), {\n  ssr: false,\n});\n\nexport type ChatUserMessageProps = {\n  message: ChatMessage;\n  showModeratorMenu: boolean;\n  highlightString: string;\n  sentBySelf: boolean;\n  sameUserAsLast: boolean;\n  isAuthorModerator: boolean;\n  isAuthorAuthenticated: boolean;\n};\n\nexport type UserTooltipProps = {\n  user: User;\n  children: ReactNode;\n};\n\nconst UserTooltip: FC<UserTooltipProps> = ({ children, user }) => {\n  const { displayName, createdAt } = user;\n  const content = `${displayName} first joined ${formatTimestamp(createdAt)}`;\n\n  return (\n    <Tooltip title={content} placement=\"topLeft\" mouseEnterDelay={1}>\n      {children}\n    </Tooltip>\n  );\n};\n\nexport const ChatUserMessage: FC<ChatUserMessageProps> = ({\n  message,\n  highlightString,\n  showModeratorMenu,\n  sentBySelf, // Move the border to the right and render a background\n  sameUserAsLast,\n  isAuthorModerator,\n  isAuthorAuthenticated,\n}) => {\n  const { id: messageId, body, user, timestamp } = message;\n  const { id: userId, displayName, displayColor } = user;\n  const accessToken = useRecoilValue<string>(accessTokenAtom);\n\n  const color = `var(--theme-color-users-${displayColor})`;\n  const formattedTimestamp = `Sent ${formatTimestamp(timestamp)}`;\n  const [formattedMessage, setFormattedMessage] = useState<string>(body);\n\n  const badgeNodes = [];\n  if (isAuthorModerator) {\n    badgeNodes.push(<ModerationBadge key=\"mod\" userColor={displayColor} />);\n  }\n  if (isAuthorAuthenticated) {\n    badgeNodes.push(<AuthedUserBadge key=\"auth\" userColor={displayColor} />);\n  }\n\n  useEffect(() => {\n    setFormattedMessage(decodeHTML(body));\n  }, [message]);\n\n  return (\n    <div\n      className={cn(\n        styles.messagePadding,\n        sameUserAsLast && styles.messagePaddingCollapsed,\n        'chat-message_user',\n      )}\n    >\n      <div\n        className={cn(styles.root, {\n          [styles.ownMessage]: sentBySelf,\n        })}\n        style={{ borderColor: color }}\n      >\n        <div className={styles.background} style={{ color }} />\n\n        {!sameUserAsLast && (\n          <UserTooltip user={user}>\n            <div className={styles.user} style={{ color }}>\n              <span className={styles.userName}>{displayName}</span>\n              <span>{badgeNodes}</span>\n            </div>\n          </UserTooltip>\n        )}\n        <Tooltip title={formattedTimestamp} mouseEnterDelay={1}>\n          <Highlight search={highlightString}>\n            <div\n              className={styles.message}\n              dangerouslySetInnerHTML={{ __html: linkifyHtml(formattedMessage) }}\n            />\n          </Highlight>\n        </Tooltip>\n        {showModeratorMenu && (\n          <div className={styles.modMenuWrapper}>\n            <ChatModerationActionMenu\n              messageID={messageId}\n              accessToken={accessToken}\n              userID={userId}\n              userDisplayName={displayName}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { Popover } from 'antd';\nimport React, { FC, useMemo, useState } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { Transforms, createEditor, BaseEditor, Text, Descendant, Editor, Node, Path } from 'slate';\nimport { Slate, Editable, withReact, ReactEditor, useSelected, useFocused } from 'slate-react';\nimport dynamic from 'next/dynamic';\nimport classNames from 'classnames';\nimport WebsocketService from '../../../services/websocket-service';\nimport { websocketServiceAtom } from '../../stores/ClientConfigStore';\nimport { MessageType } from '../../../interfaces/socket-events';\nimport styles from './ChatTextField.module.scss';\n\n// Lazy loaded components\n\nconst EmojiPicker = dynamic(() => import('./EmojiPicker').then(mod => mod.EmojiPicker), {\n  ssr: false,\n});\n\nconst SendOutlined = dynamic(() => import('@ant-design/icons/SendOutlined'), {\n  ssr: false,\n});\n\nconst SmileOutlined = dynamic(() => import('@ant-design/icons/SmileOutlined'), {\n  ssr: false,\n});\n\ntype CustomElement = { type: 'paragraph' | 'span'; children: CustomText[] } | ImageNode;\ntype CustomText = { text: string };\n\ntype EmptyText = {\n  text: string;\n};\n\ntype ImageNode = {\n  type: 'image';\n  alt: string;\n  src: string;\n  name: string;\n  children: EmptyText[];\n};\n\ndeclare module 'slate' {\n  interface CustomTypes {\n    Editor: BaseEditor & ReactEditor;\n    Element: CustomElement;\n    Text: CustomText;\n  }\n}\n\nconst Image = p => {\n  const { attributes, element, children } = p;\n\n  const selected = useSelected();\n  const focused = useFocused();\n  return (\n    <span {...attributes} contentEditable={false}>\n      <img\n        alt={element.alt}\n        src={element.src}\n        title={element.name}\n        style={{\n          display: 'inline',\n          maxWidth: '50px',\n          maxHeight: '20px',\n          boxShadow: `${selected && focused ? '0 0 0 3px #B4D5FF' : 'none'}`,\n        }}\n      />\n      {children}\n    </span>\n  );\n};\n\nconst withImages = editor => {\n  const { isVoid } = editor;\n\n  // eslint-disable-next-line no-param-reassign\n  editor.isVoid = element => (element.type === 'image' ? true : isVoid(element));\n  // eslint-disable-next-line no-param-reassign\n  editor.isInline = element => element.type === 'image';\n\n  return editor;\n};\n\nconst serialize = node => {\n  if (Text.isText(node)) {\n    const string = node.text;\n    return string;\n  }\n\n  let children;\n  if (node.children.length === 0) {\n    children = [{ text: '' }];\n  } else {\n    children = node.children?.map(n => serialize(n)).join('');\n  }\n\n  switch (node.type) {\n    case 'paragraph':\n      return `<p>${children}</p>`;\n    case 'image':\n      return `<img src=\"${node.src}\" alt=\"${node.alt}\" title=\"${node.name}\" class=\"emoji\"/>`;\n    default:\n      return children;\n  }\n};\n\nconst getCharacterCount = node => {\n  if (Text.isText(node)) {\n    return node.text.length;\n  }\n  if (node.type === 'image') {\n    return 5;\n  }\n\n  let count = 0;\n  node.children.forEach(child => {\n    count += getCharacterCount(child);\n  });\n\n  return count;\n};\n\nexport type ChatTextFieldProps = {\n  defaultText?: string;\n};\n\nconst characterLimit = 300;\n\nexport const ChatTextField: FC<ChatTextFieldProps> = ({ defaultText }) => {\n  const [showEmojis, setShowEmojis] = useState(false);\n  const [characterCount, setCharacterCount] = useState(defaultText?.length);\n  const websocketService = useRecoilValue<WebsocketService>(websocketServiceAtom);\n  const editor = useMemo(() => withReact(withImages(createEditor())), []);\n\n  const defaultEditorValue: Descendant[] = [\n    {\n      type: 'paragraph',\n      children: [{ text: defaultText || '' }],\n    },\n  ];\n\n  const sendMessage = () => {\n    if (!websocketService) {\n      console.log('websocketService is not defined');\n      return;\n    }\n\n    const message = serialize(editor);\n    websocketService.send({ type: MessageType.CHAT, body: message });\n\n    // Clear the editor.\n    Transforms.delete(editor, {\n      at: {\n        anchor: Editor.start(editor, []),\n        focus: Editor.end(editor, []),\n      },\n    });\n    setCharacterCount(0);\n  };\n\n  const createImageNode = (alt, src, name): ImageNode => ({\n    type: 'image',\n    alt,\n    src,\n    name,\n    children: [{ text: '' }],\n  });\n\n  const insertImage = (url, name) => {\n    if (!url) return;\n\n    const { selection } = editor;\n    const image = createImageNode(name, url, name);\n\n    Transforms.insertNodes(editor, image, { select: true });\n\n    if (selection) {\n      const [parentNode, parentPath] = Editor.parent(editor, selection.focus?.path);\n\n      if (editor.isVoid(parentNode) || Node.string(parentNode).length) {\n        // Insert the new image node after the void node or a node with content\n        Transforms.insertNodes(editor, image, {\n          at: Path.next(parentPath),\n          select: true,\n        });\n      } else {\n        // If the node is empty, replace it instead\n        // Transforms.removeNodes(editor, { at: parentPath });\n        Transforms.insertNodes(editor, image, { at: parentPath, select: true });\n        Editor.normalize(editor, { force: true });\n      }\n    } else {\n      // Insert the new image node at the bottom of the Editor when selection\n      // is falsey\n      Transforms.insertNodes(editor, image, { select: true });\n    }\n  };\n\n  // Native emoji\n  const onEmojiSelect = (emoji: string) => {\n    ReactEditor.focus(editor);\n    Transforms.insertText(editor, emoji);\n  };\n\n  const onCustomEmojiSelect = (name: string, emoji: string) => {\n    ReactEditor.focus(editor);\n    insertImage(emoji, name);\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent) => {\n    const charCount = getCharacterCount(editor) + 1;\n\n    // Send the message when hitting enter.\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      sendMessage();\n      return;\n    }\n\n    // Always allow backspace.\n    if (e.key === 'Backspace') {\n      setCharacterCount(charCount - 1);\n      return;\n    }\n\n    // Limit the number of characters.\n    if (charCount + 1 > characterLimit) {\n      e.preventDefault();\n    }\n\n    setCharacterCount(charCount + 1);\n  };\n\n  const onPaste = (e: React.ClipboardEvent) => {\n    const text = e.clipboardData.getData('text/plain');\n\n    const { length } = text;\n    if (characterCount + length > characterLimit) {\n      e.preventDefault();\n    }\n  };\n\n  const renderElement = p => {\n    switch (p.element.type) {\n      case 'image':\n        return <Image {...p} />;\n      default:\n        return <p {...p} />;\n    }\n  };\n\n  return (\n    <div className={styles.root}>\n      <div\n        className={classNames(\n          styles.inputWrap,\n          characterCount >= characterLimit && styles.maxCharacters,\n        )}\n      >\n        <Slate editor={editor} value={defaultEditorValue}>\n          <Editable\n            className=\"chat-text-input\"\n            onKeyDown={onKeyDown}\n            onPaste={onPaste}\n            renderElement={renderElement}\n            placeholder=\"Send a message to chat\"\n            style={{ width: '100%' }}\n            role=\"textbox\"\n            aria-label=\"Chat text input\"\n            autoFocus\n          />\n          <Popover\n            content={\n              <EmojiPicker\n                onEmojiSelect={onEmojiSelect}\n                onCustomEmojiSelect={onCustomEmojiSelect}\n              />\n            }\n            trigger=\"click\"\n            placement=\"topRight\"\n            onOpenChange={open => setShowEmojis(open)}\n            open={showEmojis}\n          />\n        </Slate>\n\n        <div style={{ display: 'flex', paddingLeft: '5px' }}>\n          <button\n            type=\"button\"\n            className={styles.emojiButton}\n            title=\"Emoji picker button\"\n            onClick={() => setShowEmojis(!showEmojis)}\n          >\n            <SmileOutlined />\n          </button>\n          <button\n            type=\"button\"\n            className={styles.sendButton}\n            title=\"Send message Button\"\n            onClick={sendMessage}\n          >\n            <SendOutlined />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","var _linearGradient, _path, _path2, _path3, _path4;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgModerator = function SvgModerator(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 500,\n    viewBox: \"0 0 132.292 132.292\",\n    width: 500,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"moderator_svg__a\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 432.851,\n    x2: 464.644,\n    y1: 49.977,\n    y2: 49.977\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#2087e2\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#b63fff\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M438.672 34.08h20.151a5.82 5.82 45 0 1 5.82 5.821v20.151a5.82 5.82 135 0 1-5.82 5.821h-20.15a5.82 5.82 45 0 1-5.822-5.82V39.9a5.82 5.82 135 0 1 5.821-5.82z\",\n    fill: \"url(#moderator_svg__a)\",\n    transform: \"matrix(4.16112 0 0 4.16112 -1801.146 -141.814)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M121.11 29.551c-6.93 47.444-30.074 104.618-77.642 79.674l25.83 23.067h38.772c13.377 0 24.22-10.845 24.22-24.222V40.864z\",\n    fill: \"#1d1535\",\n    fillOpacity: 0.335\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M66.775 13.257s-7.129 57.999-.63 99.312c6.565 41.724-81.568-74.394-49.619-79.203 31.949-4.809 50.249-20.11 50.249-20.11z\",\n    fill: \"#e2e8f0\",\n    fillOpacity: 0.306\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M435.995 42.072c6.797.447 12.753-4.806 12.753-4.806s5.955 5.253 12.752 4.806c-.581 12.745-7.495 20.586-12.752 20.628-5.188.042-12.172-7.883-12.753-20.628z\",\n    fill: \"none\",\n    stroke: \"#fff\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    transform: \"matrix(4.16112 0 0 4.16112 -1801.146 -141.814)\"\n  })));\n};\nexport default SvgModerator;","import styles from './ChatModeratorNotification.module.scss';\nimport Icon from '../../../assets/images/moderator.svg';\n\nexport const ChatModeratorNotification = () => (\n  <div className={styles.chatModerationNotification}>\n    <Icon className={styles.icon} />\n    You are now a moderator.\n  </div>\n);\n","/* eslint-disable react/no-danger */\nimport { Highlight } from 'react-highlighter-ts';\nimport { FC } from 'react';\nimport cn from 'classnames';\nimport { ChatMessage } from '../../../interfaces/chat-message.model';\nimport styles from './ChatSystemMessage.module.scss';\n\nexport type ChatSystemMessageProps = {\n  message: ChatMessage;\n  highlightString: string;\n};\n\nexport const ChatSystemMessage: FC<ChatSystemMessageProps> = ({\n  message: {\n    body,\n    user: { displayName },\n  },\n  highlightString,\n}) => (\n  <div className={cn([styles.chatSystemMessage, 'chat-message_system'])}>\n    <div className={styles.user}>\n      <span className={styles.userName}>{displayName}</span>\n    </div>\n    <Highlight search={highlightString}>\n      <div className={styles.message} dangerouslySetInnerHTML={{ __html: body }} />\n    </Highlight>\n  </div>\n);\n","import { FC } from 'react';\nimport dynamic from 'next/dynamic';\nimport styles from './ChatJoinMessage.module.scss';\nimport { ModerationBadge } from '../ChatUserBadge/ModerationBadge';\n\n// Lazy loaded components\n\nconst TeamOutlined = dynamic(() => import('@ant-design/icons/TeamOutlined'), {\n  ssr: false,\n});\n\nexport type ChatJoinMessageProps = {\n  isAuthorModerator: boolean;\n  userColor: number;\n  displayName: string;\n};\n\nexport const ChatJoinMessage: FC<ChatJoinMessageProps> = ({\n  isAuthorModerator,\n  userColor,\n  displayName,\n}) => {\n  const color = `var(--theme-color-users-${userColor})`;\n\n  return (\n    <div className={styles.root}>\n      <span style={{ color }}>\n        <span style={{ padding: '0 10px' }}>\n          <TeamOutlined />\n        </span>\n        <span style={{ fontWeight: 'bold' }}>{displayName}</span>\n        {isAuthorModerator && (\n          <span>\n            <ModerationBadge userColor={userColor} />\n          </span>\n        )}\n      </span>{' '}\n      joined the chat.\n    </div>\n  );\n};\n","import { Button } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { FC, MutableRefObject } from 'react';\nimport { ChatMessage } from '../../../interfaces/chat-message.model';\nimport styles from './ChatContainer.module.scss';\n\n// Lazy loaded components\n\nconst VerticalAlignBottomOutlined = dynamic(\n  () => import('@ant-design/icons/VerticalAlignBottomOutlined'),\n  {\n    ssr: false,\n  },\n);\ntype Props = {\n  chatContainerRef: MutableRefObject<any>;\n  messages: ChatMessage[];\n};\n\nexport const ScrollToBotBtn: FC<Props> = ({ chatContainerRef, messages }) => (\n  <div className={styles.toBottomWrap}>\n    <Button\n      type=\"default\"\n      style={{ color: 'currentColor' }}\n      icon={<VerticalAlignBottomOutlined />}\n      onClick={() =>\n        chatContainerRef.current.scrollToIndex({\n          index: messages.length - 1,\n          behavior: 'auto',\n        })\n      }\n    >\n      Go to last message\n    </Button>\n  </div>\n);\n","import { FC } from 'react';\nimport styles from './ChatActionMessage.module.scss';\n\n/* eslint-disable react/no-danger */\nexport type ChatActionMessageProps = {\n  body: string;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const ChatActionMessage: FC<ChatActionMessageProps> = ({ body }) => (\n  <div dangerouslySetInnerHTML={{ __html: body }} className={styles.chatAction} />\n);\n","import { Virtuoso } from 'react-virtuoso';\nimport { useState, useMemo, useRef, CSSProperties, FC, useEffect } from 'react';\nimport dynamic from 'next/dynamic';\nimport {\n  ConnectedClientInfoEvent,\n  MessageType,\n  NameChangeEvent,\n} from '../../../interfaces/socket-events';\nimport styles from './ChatContainer.module.scss';\nimport { ChatMessage } from '../../../interfaces/chat-message.model';\nimport { ChatUserMessage } from '../ChatUserMessage/ChatUserMessage';\nimport { ChatTextField } from '../ChatTextField/ChatTextField';\nimport { ChatModeratorNotification } from '../ChatModeratorNotification/ChatModeratorNotification';\n// import ChatActionMessage from '../ChatAction/ChatActionMessage';\nimport { ChatSystemMessage } from '../ChatSystemMessage/ChatSystemMessage';\nimport { ChatJoinMessage } from '../ChatJoinMessage/ChatJoinMessage';\nimport { ScrollToBotBtn } from './ScrollToBotBtn';\nimport { ChatActionMessage } from '../ChatActionMessage/ChatActionMessage';\n\n// Lazy loaded components\n\nconst EditFilled = dynamic(() => import('@ant-design/icons/EditFilled'), {\n  ssr: false,\n});\nexport type ChatContainerProps = {\n  messages: ChatMessage[];\n  usernameToHighlight: string;\n  chatUserId: string;\n  isModerator: boolean;\n  showInput?: boolean;\n  height?: string;\n};\n\nfunction shouldCollapseMessages(messages: ChatMessage[], index: number): boolean {\n  if (messages.length < 2) {\n    return false;\n  }\n\n  const message = messages[index];\n  if (!message || !message.user) {\n    return false;\n  }\n\n  const {\n    user: { id },\n  } = message;\n  const lastMessage = messages[index - 1];\n  if (lastMessage?.type !== MessageType.CHAT) {\n    return false;\n  }\n\n  if (!lastMessage?.timestamp || !message.timestamp) {\n    return false;\n  }\n\n  const maxTimestampDelta = 1000 * 60 * 2; // 2 minutes\n  const lastTimestamp = new Date(lastMessage?.timestamp).getTime();\n  const thisTimestamp = new Date(message.timestamp).getTime();\n  if (thisTimestamp - lastTimestamp > maxTimestampDelta) {\n    return false;\n  }\n\n  return id === lastMessage?.user.id;\n}\n\nfunction checkIsModerator(message: ChatMessage | ConnectedClientInfoEvent) {\n  const {\n    user: { scopes },\n  } = message;\n\n  if (!scopes || scopes.length === 0) {\n    return false;\n  }\n\n  return scopes.includes('MODERATOR');\n}\n\nexport const ChatContainer: FC<ChatContainerProps> = ({\n  messages,\n  usernameToHighlight,\n  chatUserId,\n  isModerator,\n  showInput,\n  height,\n}) => {\n  const [atBottom, setAtBottom] = useState(false);\n  const chatContainerRef = useRef(null);\n\n  const getNameChangeViewForMessage = (message: NameChangeEvent) => {\n    const { oldName, user } = message;\n    const { displayName, displayColor } = user;\n    const color = `var(--theme-color-users-${displayColor})`;\n\n    return (\n      <div className={styles.nameChangeView}>\n        <div style={{ marginRight: 5, height: 'max-content', margin: 'auto 5px auto 0' }}>\n          <EditFilled />\n        </div>\n        <div className={styles.nameChangeText}>\n          <span style={{ color }}>{oldName}</span>\n          <span className={styles.plain}> is now known as </span>\n          <span style={{ color }}>{displayName}</span>\n        </div>\n      </div>\n    );\n  };\n\n  const getUserJoinedMessage = (message: ChatMessage) => {\n    const {\n      user: { displayName, displayColor },\n    } = message;\n    const isAuthorModerator = checkIsModerator(message);\n    return (\n      <ChatJoinMessage\n        displayName={displayName}\n        userColor={displayColor}\n        isAuthorModerator={isAuthorModerator}\n      />\n    );\n  };\n\n  const getActionMessage = (message: ChatMessage) => {\n    const { body } = message;\n    return <ChatActionMessage body={body} />;\n  };\n  const getConnectedInfoMessage = (message: ConnectedClientInfoEvent) => {\n    const modStatusUpdate = checkIsModerator(message);\n    if (!modStatusUpdate) {\n      // Important note: We can't return null or an element with zero width\n      // or zero height. So to work around this we return a very small 1x1 div.\n      const st: CSSProperties = { width: '1px', height: '1px' };\n      return <div style={st} />;\n    }\n\n    // Alert the user that they are a moderator.\n    return <ChatModeratorNotification />;\n  };\n\n  const getViewForMessage = (\n    index: number,\n    message: ChatMessage | NameChangeEvent | ConnectedClientInfoEvent,\n  ) => {\n    switch (message.type) {\n      case MessageType.CHAT:\n        return (\n          <ChatUserMessage\n            message={message as ChatMessage}\n            showModeratorMenu={isModerator} // Moderators have access to an additional menu\n            highlightString={usernameToHighlight} // What to highlight in the message\n            sentBySelf={message.user?.id === chatUserId} // The local user sent this message\n            sameUserAsLast={shouldCollapseMessages(messages, index)}\n            isAuthorModerator={(message as ChatMessage).user.scopes?.includes('MODERATOR')}\n            isAuthorAuthenticated={message.user?.authenticated}\n            key={message.id}\n          />\n        );\n      case MessageType.NAME_CHANGE:\n        return getNameChangeViewForMessage(message as NameChangeEvent);\n      case MessageType.CONNECTED_USER_INFO:\n        return getConnectedInfoMessage(message);\n      case MessageType.USER_JOINED:\n        return getUserJoinedMessage(message as ChatMessage);\n      case MessageType.CHAT_ACTION:\n        return getActionMessage(message as ChatMessage);\n      case MessageType.SYSTEM:\n        return (\n          <ChatSystemMessage\n            message={message as ChatMessage}\n            highlightString={usernameToHighlight} // What to highlight in the message\n            key={message.id}\n          />\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const scrollChatToBottom = (ref, behavior = 'smooth') => {\n    setTimeout(() => {\n      ref.current?.scrollToIndex({\n        index: messages.length - 1,\n        behavior,\n      });\n    }, 100);\n\n    setAtBottom(true);\n  };\n\n  // This is a hack to force a scroll to the very bottom of the chat messages\n  // on initial mount of the component.\n  // For https://github.com/owncast/owncast/issues/2500\n  useEffect(() => {\n    setTimeout(() => {\n      scrollChatToBottom(chatContainerRef, 'auto');\n    }, 500);\n  }, []);\n\n  const MessagesTable = useMemo(\n    () => (\n      <>\n        <Virtuoso\n          id=\"virtuoso\"\n          style={{ height }}\n          className={styles.virtuoso}\n          ref={chatContainerRef}\n          data={messages}\n          itemContent={(index, message) => getViewForMessage(index, message)}\n          followOutput={(isAtBottom: boolean) => {\n            if (isAtBottom) {\n              scrollChatToBottom(chatContainerRef, 'smooth');\n            }\n            return false;\n          }}\n          alignToBottom\n          atBottomThreshold={70}\n          atBottomStateChange={bottom => {\n            setAtBottom(bottom);\n          }}\n        />\n        {!atBottom && <ScrollToBotBtn chatContainerRef={chatContainerRef} messages={messages} />}\n      </>\n    ),\n    [messages, usernameToHighlight, chatUserId, isModerator, atBottom],\n  );\n\n  return (\n    <div id=\"chat-container\" className={styles.chatContainer}>\n      {MessagesTable}\n      {showInput && (\n        <div className={styles.chatTextField}>\n          <ChatTextField />\n        </div>\n      )}\n    </div>\n  );\n};\n\nChatContainer.defaultProps = {\n  showInput: true,\n  height: 'auto',\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatAction\":\"ChatActionMessage_chatAction__x9Xsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toBottomWrap\":\"ChatContainer_toBottomWrap__3V5wa\",\"nameChangeView\":\"ChatContainer_nameChangeView__ziyXN\",\"nameChangeText\":\"ChatContainer_nameChangeText__yXG__\",\"plain\":\"ChatContainer_plain__IPS19\",\"chatContainer\":\"ChatContainer_chatContainer__O2lYN\",\"virtuoso\":\"ChatContainer_virtuoso__OS9Kz\",\"chatTextField\":\"ChatContainer_chatTextField__OqCGL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ChatJoinMessage_root__vuVXa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatModerationNotification\":\"ChatModeratorNotification_chatModerationNotification__kgFWe\",\"icon\":\"ChatModeratorNotification_icon__7FdGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatSystemMessage\":\"ChatSystemMessage_chatSystemMessage__c6XEN\",\"user\":\"ChatSystemMessage_user__6yHSJ\",\"message\":\"ChatSystemMessage_message__ySq5g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ChatTextField_root__4oUkJ\",\"inputWrap\":\"ChatTextField_inputWrap__1mAjD\",\"maxCharacters\":\"ChatTextField_maxCharacters__yGT4s\",\"emojiButton\":\"ChatTextField_emojiButton__ON_Cu\",\"sendButton\":\"ChatTextField_sendButton__MOmD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"badge\":\"ChatUserBadge_badge__1EdUp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ChatUserMessage_root__79heB\",\"user\":\"ChatUserMessage_user__xUEp9\",\"message\":\"ChatUserMessage_message__MJ9LD\",\"ownMessage\":\"ChatUserMessage_ownMessage__d28A3\",\"background\":\"ChatUserMessage_background__Tfghp\",\"modMenuWrapper\":\"ChatUserMessage_modMenuWrapper__7fblv\",\"messagePadding\":\"ChatUserMessage_messagePadding__Xp1F6\",\"messagePaddingCollapsed\":\"ChatUserMessage_messagePaddingCollapsed__qxN0E\"};"],"names":["_linearGradient","_path","_path2","_path3","_path4","formatTimestamp","sentAt","now","Date","Number","isNaN","diffInDays","getDiffInDaysFromNow","localeDate","toLocaleDateString","dateStyle","concat","toLocaleTimeString","ChatUserBadge","badge","userColor","title","param","jsx_runtime","jsx","span","style","color","className","styles","SafetyCertificateFilled","dynamic","Promise","all","__webpack_require__","e","then","t","bind","ssr","AuthedUserBadge","StarFilled","ModerationBadge","ChatModerationActionMenu","mod","Highlight","resolve","UserTooltip","children","user","displayName","createdAt","content","Tooltip","placement","mouseEnterDelay","ChatUserMessage","message","highlightString","showModeratorMenu","sentBySelf","sameUserAsLast","isAuthorModerator","isAuthorAuthenticated","id","messageId","body","timestamp","userId","displayColor","accessToken","useRecoilValue","accessTokenAtom","formattedTimestamp","formattedMessage","setFormattedMessage","useState","badgeNodes","push","useEffect","decodeHTML","div","cn","jsxs","borderColor","search","dangerouslySetInnerHTML","__html","linkifyHtml","messageID","userID","userDisplayName","EmojiPicker","SendOutlined","SmileOutlined","Image","p","attributes","element","selected","useSelected","focused","useFocused","contentEditable","img","alt","src","name","display","maxWidth","maxHeight","boxShadow","withImages","editor","isVoid","type","isInline","serialize","node","Text","string","text","length","map","n","join","getCharacterCount","count","forEach","child","ChatTextField","defaultText","showEmojis","setShowEmojis","characterCount","setCharacterCount","websocketService","websocketServiceAtom","useMemo","withReact","createEditor","sendMessage","console","log","send","MessageType","Transforms","at","anchor","Editor","focus","createImageNode","insertImage","url","selection","image","select","parentNode","parentPath","path","Node","Path","force","onEmojiSelect","ReactEditor","emoji","onCustomEmojiSelect","onKeyDown","charCount","key","preventDefault","onPaste","clipboardData","getData","renderElement","classNames","Slate","value","Editable","placeholder","width","role","aria-label","autoFocus","Popover","trigger","onOpenChange","open","paddingLeft","button","onClick","_extends","Object","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","moderator","props","react","createElement","height","viewBox","xmlns","gradientUnits","x1","x2","y1","y2","offset","stopColor","d","fill","transform","fillOpacity","stroke","strokeLinejoin","strokeWidth","ChatModeratorNotification","Icon","ChatSystemMessage","TeamOutlined","ChatJoinMessage","padding","fontWeight","VerticalAlignBottomOutlined","ScrollToBotBtn","chatContainerRef","messages","Button","icon","current","scrollToIndex","index","behavior","ChatActionMessage","EditFilled","checkIsModerator","scopes","includes","ChatContainer","usernameToHighlight","chatUserId","isModerator","showInput","atBottom","setAtBottom","useRef","getNameChangeViewForMessage","oldName","marginRight","margin","getUserJoinedMessage","getActionMessage","getConnectedInfoMessage","modStatusUpdate","getViewForMessage","_message_user_scopes","shouldCollapseMessages","lastMessage","lastTimestamp","getTime","thisTimestamp","maxTimestampDelta","authenticated","scrollChatToBottom","ref","setTimeout","MessagesTable","Fragment","Virtuoso","data","itemContent","followOutput","isAtBottom","alignToBottom","atBottomThreshold","atBottomStateChange","bottom","defaultProps","module","exports"],"sourceRoot":""}