(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9882],{48689:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1413),o=n(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=n(42135),s=function(e,t){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};s.displayName="DeleteOutlined";var i=o.forwardRef(s)},6226:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(4942),o=n(87462),c=n(71002),a=n(94184),s=n.n(a),i=n(67294),l=n(53124),u=n(99134),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var p=["xs","sm","md","lg","xl","xxl"];var d=i.forwardRef((function(e,t){var n,a=i.useContext(l.E_),d=a.getPrefixCls,v=a.direction,h=i.useContext(u.Z),m=h.gutter,y=h.wrap,x=h.supportFlexGap,b=e.prefixCls,Z=e.span,g=e.order,j=e.offset,w=e.push,k=e.pull,O=e.className,C=e.children,E=e.flex,N=e.style,S=f(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),_=d("col",b),P={};p.forEach((function(t){var n,a={},s=e[t];"number"===typeof s?a.span=s:"object"===(0,c.Z)(s)&&(a=s||{}),delete S[t],P=(0,o.Z)((0,o.Z)({},P),(n={},(0,r.Z)(n,"".concat(_,"-").concat(t,"-").concat(a.span),void 0!==a.span),(0,r.Z)(n,"".concat(_,"-").concat(t,"-order-").concat(a.order),a.order||0===a.order),(0,r.Z)(n,"".concat(_,"-").concat(t,"-offset-").concat(a.offset),a.offset||0===a.offset),(0,r.Z)(n,"".concat(_,"-").concat(t,"-push-").concat(a.push),a.push||0===a.push),(0,r.Z)(n,"".concat(_,"-").concat(t,"-pull-").concat(a.pull),a.pull||0===a.pull),(0,r.Z)(n,"".concat(_,"-rtl"),"rtl"===v),n))}));var T=s()(_,(n={},(0,r.Z)(n,"".concat(_,"-").concat(Z),void 0!==Z),(0,r.Z)(n,"".concat(_,"-order-").concat(g),g),(0,r.Z)(n,"".concat(_,"-offset-").concat(j),j),(0,r.Z)(n,"".concat(_,"-push-").concat(w),w),(0,r.Z)(n,"".concat(_,"-pull-").concat(k),k),n),O,P),A={};if(m&&m[0]>0){var I=m[0]/2;A.paddingLeft=I,A.paddingRight=I}if(m&&m[1]>0&&!x){var R=m[1]/2;A.paddingTop=R,A.paddingBottom=R}return E&&(A.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(E),!1!==y||A.minWidth||(A.minWidth=0)),i.createElement("div",(0,o.Z)({},S,{style:(0,o.Z)((0,o.Z)({},A),N),className:T,ref:t}),C)}))},99134:function(e,t,n){"use strict";var r=(0,n(67294).createContext)({});t.Z=r},25968:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(87462),o=n(4942),c=n(71002),a=n(97685),s=n(94184),i=n.n(s),l=n(67294),u=n(53124),f=n(98082),p=n(24308),d=n(93355),v=n(99134),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};(0,d.b)("top","middle","bottom","stretch"),(0,d.b)("start","end","center","space-around","space-between","space-evenly");var m=l.forwardRef((function(e,t){var n,s=e.prefixCls,d=e.justify,m=e.align,y=e.className,x=e.style,b=e.children,Z=e.gutter,g=void 0===Z?0:Z,j=e.wrap,w=h(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),k=l.useContext(u.E_),O=k.getPrefixCls,C=k.direction,E=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),N=(0,a.Z)(E,2),S=N[0],_=N[1],P=(0,f.Z)(),T=l.useRef(g);l.useEffect((function(){var e=p.ZP.subscribe((function(e){var t=T.current||0;(!Array.isArray(t)&&"object"===(0,c.Z)(t)||Array.isArray(t)&&("object"===(0,c.Z)(t[0])||"object"===(0,c.Z)(t[1])))&&_(e)}));return function(){return p.ZP.unsubscribe(e)}}),[]);var A=O("row",s),I=function(){var e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((function(t,n){if("object"===(0,c.Z)(t))for(var r=0;r<p.c4.length;r++){var o=p.c4[r];if(S[o]&&void 0!==t[o]){e[n]=t[o];break}}else e[n]=t})),e}(),R=i()(A,(n={},(0,o.Z)(n,"".concat(A,"-no-wrap"),!1===j),(0,o.Z)(n,"".concat(A,"-").concat(d),d),(0,o.Z)(n,"".concat(A,"-").concat(m),m),(0,o.Z)(n,"".concat(A,"-rtl"),"rtl"===C),n),y),M={},D=null!=I[0]&&I[0]>0?I[0]/-2:void 0,G=null!=I[1]&&I[1]>0?I[1]/-2:void 0;if(D&&(M.marginLeft=D,M.marginRight=D),P){var H=(0,a.Z)(I,2);M.rowGap=H[1]}else G&&(M.marginTop=G,M.marginBottom=G);var $=(0,a.Z)(I,2),z=$[0],W=$[1],B=l.useMemo((function(){return{gutter:[z,W],wrap:j,supportFlexGap:P}}),[z,W,j,P]);return l.createElement(v.Z.Provider,{value:B},l.createElement("div",(0,r.Z)({},w,{className:R,style:(0,r.Z)((0,r.Z)({},M),x),ref:t}),b))}))},20550:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(4942),o=n(87462),c=n(97685),a=n(97937),s=n(94184),i=n.n(s),l=n(98423),u=n(67294),f=n(53124),p=n(98787),d=n(68349),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},h=function(e){var t,n=e.prefixCls,c=e.className,a=e.checked,s=e.onChange,l=e.onClick,p=v(e,["prefixCls","className","checked","onChange","onClick"]),d=(0,u.useContext(f.E_).getPrefixCls)("tag",n),h=i()(d,(t={},(0,r.Z)(t,"".concat(d,"-checkable"),!0),(0,r.Z)(t,"".concat(d,"-checkable-checked"),a),t),c);return u.createElement("span",(0,o.Z)({},p,{className:h,onClick:function(e){null===s||void 0===s||s(!a),null===l||void 0===l||l(e)}}))},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},y=new RegExp("^(".concat(p.Y.join("|"),")(-inverse)?$")),x=new RegExp("^(".concat(p.E.join("|"),")$")),b=function(e,t){var n,s=e.prefixCls,p=e.className,v=e.style,h=e.children,b=e.icon,Z=e.color,g=e.onClose,j=e.closeIcon,w=e.closable,k=void 0!==w&&w,O=m(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),C=u.useContext(f.E_),E=C.getPrefixCls,N=C.direction,S=u.useState(!0),_=(0,c.Z)(S,2),P=_[0],T=_[1];u.useEffect((function(){"visible"in O&&T(O.visible)}),[O.visible]);var A=function(){return!!Z&&(y.test(Z)||x.test(Z))},I=(0,o.Z)({backgroundColor:Z&&!A()?Z:void 0},v),R=A(),M=E("tag",s),D=i()(M,(n={},(0,r.Z)(n,"".concat(M,"-").concat(Z),R),(0,r.Z)(n,"".concat(M,"-has-color"),Z&&!R),(0,r.Z)(n,"".concat(M,"-hidden"),!P),(0,r.Z)(n,"".concat(M,"-rtl"),"rtl"===N),n),p),G=function(e){e.stopPropagation(),null===g||void 0===g||g(e),e.defaultPrevented||"visible"in O||T(!1)},H="onClick"in O||h&&"a"===h.type,$=(0,l.Z)(O,["visible"]),z=b||null,W=z?u.createElement(u.Fragment,null,z,u.createElement("span",null,h)):h,B=u.createElement("span",(0,o.Z)({},$,{ref:t,className:D,style:I}),W,k?j?u.createElement("span",{className:"".concat(M,"-close-icon"),onClick:G},j):u.createElement(a.Z,{className:"".concat(M,"-close-icon"),onClick:G}):null);return H?u.createElement(d.Z,null,B):B},Z=u.forwardRef(b);Z.CheckableTag=h;var g=Z},27561:function(e,t,n){var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),o=n(7771),c=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var i,l,u,f,p,d,v=0,h=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=i,r=l;return i=l=void 0,v=t,f=e.apply(r,n)}function b(e){return v=e,p=setTimeout(g,t),h?x(e):f}function Z(e){var n=e-d;return void 0===d||n>=t||n<0||m&&e-v>=u}function g(){var e=o();if(Z(e))return j(e);p=setTimeout(g,function(e){var n=t-(e-d);return m?s(n,u-(e-v)):n}(e))}function j(e){return p=void 0,y&&i?x(e):(i=l=void 0,f)}function w(){var e=o(),n=Z(e);if(i=arguments,l=this,d=e,n){if(void 0===p)return b(d);if(m)return clearTimeout(p),p=setTimeout(g,t),x(d)}return void 0===p&&(p=setTimeout(g,t)),f}return t=c(t)||0,r(n)&&(h=!!n.leading,u=(m="maxWait"in n)?a(c(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),v=0,i=d=l=p=void 0},w.flush=function(){return void 0===p?f:j(o())},w}},33448:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),o=n(13218),c=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(c(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||i.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},26562:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/access-tokens",function(){return n(75575)}])},75575:function(e,t,n){"use strict";n.r(t);var r=n(47568),o=n(70655),c=n(85893),a=n(67294),s=n(84485),i=n(94199),l=n(20550),u=n(6226),f=n(32808),p=n(85402),d=n(69677),v=n(25968),h=n(71577),m=n(26713),y=n(93626),x=n(48689),b=n(58091),Z=n(58827),g=s.Z.Title,j=s.Z.Paragraph,w={CAN_SEND_SYSTEM_MESSAGES:{name:"System messages",description:"Can send official messages on behalf of the system.",color:"purple"},CAN_SEND_MESSAGES:{name:"User chat messages",description:"Can send chat messages on behalf of the owner of this token.",color:"green"},HAS_ADMIN_ACCESS:{name:"Has admin access",description:"Can perform administrative actions such as moderation, get server statuses, etc.",color:"red"}};var k=function(e){var t=e.onOk,n=e.onCancel,r=e.visible,o=(0,a.useState)([]),s=o[0],i=o[1],l=(0,a.useState)(""),m=l[0],y=l[1],x=Object.keys(w).map((function(e){return{value:e,label:w[e].description}})),b={disabled:0===s.length||""===m},Z=x.map((function(e){return(0,c.jsx)(u.Z,{span:8,children:(0,c.jsx)(f.Z,{value:e.value,children:e.label})},e.value)}));return(0,c.jsxs)(p.Z,{title:"Create New Access token",visible:r,onOk:function(){t(m,s),i([]),y("")},onCancel:n,okButtonProps:b,children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("p",{children:"The name will be displayed as the chat user when sending messages with this access token."}),(0,c.jsx)(d.Z,{value:m,placeholder:"Name of bot, service, or integration",onChange:function(e){return y(e.currentTarget.value)}})]}),(0,c.jsx)("p",{children:"Select the permissions this access token will have. It cannot be edited after it's created."}),(0,c.jsx)(f.Z.Group,{style:{width:"100%"},value:s,onChange:function(e){i(e)},children:(0,c.jsx)(v.Z,{children:Z})}),(0,c.jsx)("p",{children:(0,c.jsx)(h.Z,{type:"primary",onClick:function(){i(Object.keys(w))},children:"Select all"})})]})};t.default=function(){var e=function(e){console.error("error",e)},t=(0,a.useState)([]),n=t[0],s=t[1],u=(0,a.useState)(!1),f=u[0],p=u[1];function v(){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)((function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,Z.rQ)(Z.ms)];case 1:return t=r.sent(),s(t),[3,3];case 2:return n=r.sent(),e(n),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function C(){return(C=(0,r.Z)((function(t){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,Z.rQ)(Z.Wr,{method:"POST",data:{token:t}})];case 1:return r.sent(),v(),[3,3];case 2:return n=r.sent(),e(n),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function E(){return(E=(0,r.Z)((function(t,r){var c,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,Z.rQ)(Z.IO,{method:"POST",data:{name:t,scopes:r}})];case 1:return c=o.sent(),s(n.concat(c)),[3,3];case 2:return a=o.sent(),e(a),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}(0,a.useEffect)((function(){v()}),[]);var N=[{title:"",key:"delete",render:function(e,t){return(0,c.jsx)(m.Z,{size:"middle",children:(0,c.jsx)(h.Z,{onClick:function(){return function(e){return C.apply(this,arguments)}(t.accessToken)},icon:(0,c.jsx)(x.Z,{})})})}},{title:"Name",dataIndex:"displayName",key:"displayName"},{title:"Token",dataIndex:"accessToken",key:"accessToken",render:function(e){return(0,c.jsx)(d.Z.Password,{size:"small",bordered:!1,value:e})}},{title:"Scopes",dataIndex:"scopes",key:"scopes",render:function(e){return(0,c.jsx)(c.Fragment,{children:e.map((function(e){return function(e){if(!e||!w[e])return null;var t=w[e];return(0,c.jsx)(i.Z,{title:t.description,children:(0,c.jsx)(l.Z,{color:t.color,children:t.name})},e)}(e)}))})}},{title:"Last Used",dataIndex:"lastUsed",key:"lastUsed",render:function(e){if(!e)return"Never";var t=new Date(e);return(0,b.Z)(t,"P p")}}];return(0,c.jsxs)("div",{children:[(0,c.jsx)(g,{children:"Access Tokens"}),(0,c.jsx)(j,{children:"Access tokens are used to allow external, 3rd party tools to perform specific actions on your Owncast server. They should be kept secure and never included in client code, instead they should be kept on a server that you control."}),(0,c.jsxs)(j,{children:["Read more about how to use these tokens, with examples, at"," ",(0,c.jsx)("a",{href:"https://owncast.online/docs/integrations/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"our documentation"}),"."]}),(0,c.jsx)(y.Z,{rowKey:"token",columns:N,dataSource:n,pagination:!1}),(0,c.jsx)("br",{}),(0,c.jsx)(h.Z,{type:"primary",onClick:function(){p(!0)},children:"Create Access Token"}),(0,c.jsx)(k,{visible:f,onOk:function(e,t){p(!1),function(e,t){E.apply(this,arguments)}(e,t)},onCancel:function(){p(!1)}})]})}}},function(e){e.O(0,[8939,3903,4267,3626,8091,9774,2888,179],(function(){return t=26562,e(e.s=t);var t}));var t=e.O();_N_E=t}]);