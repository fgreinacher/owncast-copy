{"version":3,"file":"static/chunks/pages/admin/upgrade-135717c8af87349e.js","mappings":"sFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,iBACA,WACA,OAAeC,EAAQ,MACvB,EACA,6HCCA,GAAM,CAAEC,MAAAA,CAAAA,CAAO,CAAGC,EAAAA,CAAUA,CAEtBC,EAAaC,GAAU,CAC3B,IAAMC,EAAOC,OAAOC,MAAM,CAACH,GAiB3B,MACE,GAAAI,EAAAC,GAAA,EAACC,EAAAA,CAAKA,CAAAA,CACJC,WAAYN,EACZO,QAlBY,CACd,CACEC,MAAO,OACPC,UAAW,OACXC,IAAK,OACLC,OAAQ,CAACC,EAAMC,IAAU,GAAAV,EAAAC,GAAA,EAACU,IAAAA,CAAEC,KAAMF,EAAMG,oBAAoB,UAAGJ,GACjE,EACA,CACEJ,MAAO,OACPC,UAAW,OACXC,IAAK,OACLC,OAAQC,GAAQ,GAAmCK,MAAA,CAAhC,CAACL,EAAO,KAAO,MAAMM,OAAO,CAAC,GAAG,MACrD,EACD,CAMGC,OAAQC,GAAUA,EAAOC,EAAE,CAC3BC,KAAK,QACLC,WAAY,IAGlB,EAEMC,EAAO,IAAM,CACjB,GAAM,CAACC,EAASC,EAAW,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,CACrCC,SAAU,GACVC,KAAM,GACNC,WAAY,IAAI,CAChBC,KAAM,GACNhC,OAAQ,EAAE,GAGNiC,EAAa,SAAY,CAC7B,GAAI,CACF,IAAMC,EAAS,MAAMC,CAAAA,EAAAA,EAAAA,EAAAA,IACrBR,EAAWO,EACb,CAAE,MAAOE,EAAO,CACdC,QAAQC,GAAG,CAAC,aAAcF,EAC5B,CACF,QAMA,CAJAG,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IAAM,CACdN,GACF,EAAG,EAAE,EAEAP,GAKH,GAAAtB,EAAAoC,IAAA,EAACC,MAAAA,CAAIC,UAAU,yBACb,GAAAtC,EAAAC,GAAA,EAACR,EAAAA,CAAM8C,MAAO,WACZ,GAAAvC,EAAAC,GAAA,EAACU,IAAAA,CAAEC,KAAMU,EAAQG,QAAQ,UAAGH,EAAQI,IAAI,KAE1C,GAAA1B,EAAAC,GAAA,EAACR,EAAAA,CAAM8C,MAAO,WAAI,IAAIC,KAAKlB,EAAQK,UAAU,EAAEc,YAAY,KAC3D,GAAAzC,EAAAC,GAAA,EAACyC,EAAAA,CAAaA,CAAAA,UAAEpB,EAAQM,IAAI,GAC5B,GAAA5B,EAAAC,GAAA,EAAC0C,KAAAA,UAAG,cACJ,GAAA3C,EAAAC,GAAA,EAACN,EAAAA,CAAY,GAAG2B,EAAQ1B,MAAM,MAXzB,IAAI,CAgBfyB,CAAAA,EAAKuB,SAAS,CAAG,SAAmBC,CAAkB,CAAE,CACtD,MAAO,GAAA7C,EAAAC,GAAA,EAAC6C,EAAAA,CAAWA,CAAAA,CAACD,KAAMA,GAC5B,EAEAE,EAAA,QAAe1B","sources":["webpack://_N_E/?3d0f","webpack://_N_E/./pages/admin/upgrade.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/upgrade\",\n      function () {\n        return require(\"private-next-pages/admin/upgrade.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin/upgrade\"])\n      });\n    }\n  ","import React, { useState, useEffect, ReactElement } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Table, Typography } from 'antd';\nimport { getGithubRelease } from '../../utils/apis';\n\nimport { AdminLayout } from '../../components/layouts/AdminLayout';\n\nconst { Title } = Typography;\n\nconst AssetTable = assets => {\n  const data = Object.values(assets) as object[];\n\n  const columns = [\n    {\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text, entry) => <a href={entry.browser_download_url}>{text}</a>,\n    },\n    {\n      title: 'Size',\n      dataIndex: 'size',\n      key: 'size',\n      render: text => `${(text / 1024 / 1024).toFixed(2)} MB`,\n    },\n  ];\n\n  return (\n    <Table\n      dataSource={data}\n      columns={columns}\n      rowKey={record => record.id}\n      size=\"large\"\n      pagination={false}\n    />\n  );\n};\n\nconst Logs = () => {\n  const [release, setRelease] = useState({\n    html_url: '',\n    name: '',\n    created_at: null,\n    body: '',\n    assets: [],\n  });\n\n  const getRelease = async () => {\n    try {\n      const result = await getGithubRelease();\n      setRelease(result);\n    } catch (error) {\n      console.log('==== error', error);\n    }\n  };\n\n  useEffect(() => {\n    getRelease();\n  }, []);\n\n  if (!release) {\n    return null;\n  }\n\n  return (\n    <div className=\"upgrade-page\">\n      <Title level={2}>\n        <a href={release.html_url}>{release.name}</a>\n      </Title>\n      <Title level={5}>{new Date(release.created_at).toDateString()}</Title>\n      <ReactMarkdown>{release.body}</ReactMarkdown>\n      <h3>Downloads</h3>\n      <AssetTable {...release.assets} />\n    </div>\n  );\n};\n\nLogs.getLayout = function getLayout(page: ReactElement) {\n  return <AdminLayout page={page} />;\n};\n\nexport default Logs;\n"],"names":["window","__NEXT_P","push","__webpack_require__","Title","Typography","AssetTable","assets","data","Object","values","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","Table","dataSource","columns","title","dataIndex","key","render","text","entry","a","href","browser_download_url","concat","toFixed","rowKey","record","id","size","pagination","Logs","release","setRelease","useState","html_url","name","created_at","body","getRelease","result","getGithubRelease","error","console","log","useEffect","jsxs","div","className","level","Date","toDateString","ReactMarkdown","h3","getLayout","page","AdminLayout","__webpack_exports__"],"sourceRoot":""}