(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{50291:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config-federation",function(){return t(6898)}])},10063:function(e,n,t){"use strict";t.d(n,{Q:function(){return c},Z:function(){return d}});var a=t(85893),i=t(67294),s=t(44068),r=t(20550),l=t(48419),o=s.Z.Title,c="#5a67d8";function d(e){var n=(0,i.useState)(""),t=n[0],s=n[1],d=e.title,u=e.description,h=e.placeholder,f=e.maxLength,p=e.values,m=e.handleDeleteIndex,v=e.handleCreateString,g=e.submitStatus;return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(o,{level:3,className:"section-title",children:d}),(0,a.jsx)("p",{className:"description",children:u}),(0,a.jsx)("div",{className:"edit-current-strings",children:null===p||void 0===p?void 0:p.map((function(e,n){return(0,a.jsx)(r.Z,{closable:!0,onClose:function(){m(n)},color:c,children:e},"tag-".concat(e,"-").concat(n))}))}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(l.ZP,{fieldName:"string-input",value:t,onChange:function(e){var n=e.value;s(n)},onPressEnter:function(){var e=t.trim();v(e),s("")},maxLength:f,placeholder:h,status:g})})]})}d.defaultProps={maxLength:50,description:null,submitStatus:null}},15976:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var a=t(28520),i=t.n(a),s=t(85893),r=t(67294),l=t(94594),o=t(83200),c=t(78464),d=t(25964),u=t(35159);function h(e,n,t,a,i,s,r){try{var l=e[s](r),o=l.value}catch(c){return void t(c)}l.done?n(o):Promise.resolve(o).then(a,i)}function f(e){var n,t=(0,r.useState)(null),a=t[0],f=t[1],p=null,m=((0,r.useContext)(u.aC)||{}).setFieldInConfigState,v=e.apiPath,g=e.checked,b=e.reversed,x=void 0!==b&&b,w=e.configPath,j=void 0===w?"":w,y=e.disabled,k=void 0!==y&&y,P=e.fieldName,N=e.label,C=e.tip,S=e.useSubmit,Z=e.onChange,E=function(){f(null),clearTimeout(p),p=null},T=(n=i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=6;break}return f((0,o.kg)(o.Jk)),t=x?!n:n,e.next=5,(0,d.Si)({apiPath:v,data:{value:t},onSuccess:function(){m({fieldName:P,value:t,path:j}),f((0,o.kg)(o.zv))},onError:function(e){f((0,o.kg)(o.Un,"There was an error: ".concat(e)))}});case 5:p=setTimeout(E,d.sI);case 6:Z&&Z(n);case 7:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var s=n.apply(e,t);function r(e){h(s,a,i,r,l,"next",e)}function l(e){h(s,a,i,r,l,"throw",e)}r(void 0)}))}),O=null!==a&&a.type===o.Jk;return(0,s.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[N&&(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:N})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)(l.Z,{className:"switch field-".concat(P),loading:O,onChange:T,defaultChecked:g,checked:g,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:k}),(0,s.jsx)(c.Z,{status:a})]}),(0,s.jsx)("p",{className:"field-tip",children:C})]})]})}f.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},6898:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var a=t(85893),i=t(56516),s=t(71577),r=t(44068),l=t(25968),o=t(6226),c=t(67294),d=t(45697),u=t.n(d),h=t(48419),f=t(50197),p=t(15976),m=t(10063),v=t(25964),g=t(35159),b=t(83200);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){x(e,n,t[n])}))}return e}function j(e){var n=e.cancelPressed,t=e.okPressed;return(0,a.jsxs)(i.Z,{width:"70%",title:"Enable Social Features",visible:!0,onCancel:n,footer:(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{onClick:n,children:"Do not enable"}),(0,a.jsx)(s.Z,{type:"primary",onClick:t,children:"Enable Social Features"})]}),children:[(0,a.jsx)(r.Z.Title,{level:3,children:"How do Owncast's social features work?"}),(0,a.jsxs)(r.Z.Paragraph,{children:["Owncast's social features are accomplished by having your server join The"," ",(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fediverse",rel:"noopener noreferrer",target:"_blank",children:"Fediverse"}),", a decentralized, open, collection of independent servers, like yours."]}),"Please"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"read more"})," ","about these features, the details behind them, and how they work.",(0,a.jsx)(r.Z.Paragraph,{}),(0,a.jsx)(r.Z.Title,{level:3,children:"What do you need to know?"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"These features are brand new. Given the variability of interfacing with the rest of the world, bugs are possible. Please report anything that you think isn't working quite right."}),(0,a.jsx)("li",{children:"You must always host your Owncast server with SSL using a https url."}),(0,a.jsx)("li",{children:"You should not change your server name URL or social username once people begin following you, as you will be seen as a completely different user on the Fediverse, and the old user will disappear."}),(0,a.jsxs)("li",{children:["Turning on ",(0,a.jsx)("i",{children:"Private mode"})," will allow you to manually approve each follower and limit the visibility of your posts to followers only."]})]}),(0,a.jsx)(r.Z.Title,{level:3,children:"Learn more about The Fediverse"}),(0,a.jsxs)(r.Z.Paragraph,{children:["If these concepts are new you should discover more about what this functionality has to offer. Visit"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"our documentation"})," ","to be pointed at some resources that will help get you started on The Fediverse."]})]})}function y(){var e=function(){E(null)},n=function(){try{(0,v.Si)({apiPath:v.pE,data:{value:s.blockedDomains},onSuccess:function(){C({fieldName:"forbiddenUsernames",value:s.forbiddenUsernames}),E(b.zv),setTimeout(e,v.sI)},onError:function(n){E((0,b.kg)(b.Un,n)),setTimeout(e,v.sI)}})}catch(n){console.error(n),E(b.Un)}},t=r.Z.Title,i=(0,c.useState)(null),s=i[0],d=i[1],u=(0,c.useState)(!1),y=u[0],k=u[1],P=(0,c.useContext)(g.aC)||{},N=P.serverConfig,C=P.setFieldInConfigState,S=(0,c.useState)(null),Z=S[0],E=S[1],T=N.federation,O=N.yp,_=N.instanceDetails,U=T.enabled,F=T.isPrivate,D=T.username,L=T.goLiveMessage,I=T.showEngagement,R=T.blockedDomains,q=O.instanceUrl,M=_.nsfw,V=function(e){var n=e.fieldName,t=e.value;d(w({},s,x({},n,t)))};if((0,c.useEffect)((function(){d({enabled:U,isPrivate:F,username:D,goLiveMessage:L,showEngagement:I,blockedDomains:R,nsfw:M,instanceUrl:O.instanceUrl})}),[N,O]),!s)return null;var z=""!==q,K=q.startsWith("https://");return(0,a.jsxs)("div",{children:[(0,a.jsx)(t,{children:"Configure Social Features"}),(0,a.jsx)("p",{children:"Owncast provides the ability for people to follow and engage with your instance. It's a great way to promote alerting, sharing and engagement of your stream."}),(0,a.jsx)("p",{children:"Once enabled you'll alert your followers when you go live as well as gain the ability to compose custom posts to share any information you like."}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"Read more about the specifics of these social features."})}),(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)(o.Z,{span:15,className:"form-module",style:{marginRight:"15px"},children:[(0,a.jsx)(p.Z,w({fieldName:"enabled",onChange:function(e){e?k(!0):d(w({},s,{enabled:!1}))}},v.Kl,{checked:s.enabled,disabled:!z||!K})),(0,a.jsx)(f.ZP,w({fieldName:"instanceUrl"},v.yi,{value:s.instanceUrl,initialValue:O.instanceUrl,type:h.xA,onChange:V,onSubmit:function(){var e=""!==s.instanceUrl,n=s.instanceUrl.startsWith("https://");e&&n||((0,v.Si)({apiPath:v.Kl.apiPath,data:{value:!1}}),d(w({},s,{enabled:!1})))}})),(0,a.jsx)(p.Z,w({fieldName:"isPrivate"},v.LC,{checked:s.isPrivate,disabled:!U})),(0,a.jsx)(p.Z,w({fieldName:"nsfw",useSubmit:!0},v.B_,{checked:s.nsfw,disabled:!z})),(0,a.jsx)(f.ZP,w({required:!0,fieldName:"username",type:h.Kx},v.Xc,{value:s.username,initialValue:D,onChange:V,disabled:!U})),(0,a.jsx)(f.ZP,w({fieldName:"goLiveMessage"},v.BF,{type:h.Sk,value:s.goLiveMessage,initialValue:L,onChange:V,disabled:!U})),(0,a.jsx)(p.Z,w({fieldName:"showEngagement"},v.FE,{checked:s.showEngagement,disabled:!U}))]}),(0,a.jsx)(o.Z,{span:8,className:"form-module",children:(0,a.jsx)(m.Z,{title:v.dR.label,placeholder:v.dR.placeholder,description:v.dR.tip,values:s.blockedDomains,handleDeleteIndex:function(e){s.blockedDomains.splice(e,1),n()},handleCreateString:function(e){var t;try{t=new URL(e).host}catch(a){t=e}s.blockedDomains.push(t),V({fieldName:"blockedDomains",value:s.blockedDomains}),n()},submitStatus:(0,b.kg)(Z)})})]}),y&&(0,a.jsx)(j,{cancelPressed:function(){k(!1),d(w({},s,{enabled:!1}))},okPressed:function(){k(!1),d(w({},s,{enabled:!0}))}})]})}j.propTypes={cancelPressed:u().func.isRequired,okPressed:u().func.isRequired}}},function(e){e.O(0,[674,774,888,179],(function(){return n=50291,e(e.s=n);var n}));var n=e.O();_N_E=n}]);